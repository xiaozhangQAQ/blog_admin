(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2db89884"],{"0801":function(e,t,a){},"0b3f":function(e,t,a){},3716:function(e,t,a){},6447:function(e,t,a){"use strict";var s=a("7d7b"),r=a.n(s);r.a},"7d7b":function(e,t,a){},"9a5b":function(e,t,a){"use strict";var s=a("3716"),r=a.n(s);r.a},a3f8:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"articlesDraft-container"},[a("el-row",{attrs:{gutter:8}},[a("el-col",{staticStyle:{"padding-right":"8px","margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:16},lg:{span:16},xl:{span:16}}},[a("article-edit",{staticStyle:{height:"75vh"}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-bottom":"30px"},attrs:{xs:{span:24},sm:{span:24},md:{span:8},lg:{span:8},xl:{span:8}}},[a("right-up")],1)],1),e._v(" "),a("div",{staticClass:"btn-row"},[a("el-button",{attrs:{type:"primary"}},[e._v("提交")]),e._v(" "),a("el-button",[e._v("存至草稿箱")])],1)],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"editor"}},[a("mavon-editor",{staticStyle:{height:"100%"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},o=[],l=a("b2d8"),n=(a("64e1"),{name:"editor",components:{mavonEditor:l["mavonEditor"]},data:function(){return{value:"aaa"}}}),p=n,c=(a("ee34"),a("2877")),u=Object(c["a"])(p,i,o,!1,null,"f80f890a",null),d=u.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rightUp"},[a("div",{staticClass:"img-upload"},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"auto-upload":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,"on-change":e.onFileChange,"on-progress":e.onUploadProgress}},[e.imageUrl?a("img",{staticClass:"avatar",staticStyle:{width:"100%",height:"100%"},attrs:{src:e.imageUrl}}):a("div",{staticClass:"uploadbox"},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])])])])],1),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[a("el-option",{attrs:{label:"pc",value:"pc"}}),e._v(" "),a("el-option",{attrs:{label:"移动",value:"mobile"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签"}},[a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"",placeholder:"请选择文章标签"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),a("img-cropper",{ref:"cropperBox",attrs:{options:e.options,uploadProgress:e.uploadProgress},on:{finishCropImage:e.finishCropImage}})],1)},f=[],v=(a("7f7f"),a("bd86")),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cropper-wrap"},[a("div",{staticClass:"cropper-alert-mask",class:{show:e.imgHasLoad}}),e._v(" "),a("div",{staticClass:"cropper-alert",class:{show:e.imgHasLoad}},[a("div",{staticClass:"cropper"},[a("span",{staticClass:"layout-icon-wrap"},[a("i",{staticClass:"el-icon-circle-close",on:{click:function(t){e.imgHasLoad=!1}}})]),e._v(" "),a("div",{staticClass:"cropper-box"},[a("img",{ref:"uploadPreview",staticStyle:{width:"100px",height:"auto"}})]),e._v(" "),e._m(0)]),e._v(" "),a("div",{staticClass:"cropper-btns-wrap"},[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":30,percentage:e.uploadProgress}}),e._v(" "),a("button",{staticClass:"cropper-btn",class:{"btn-bg":e.uploading},attrs:{type:"button",disabled:e.btnTips.disable},on:{click:e.finishCropImage}},[e._v("\n        "+e._s(e.btnTips.value)+"\n        ")])],1)])])},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cropper-res-wrap"},[a("div",{staticClass:"cropper-res",attrs:{id:"cropperRes"}},[a("img",{staticStyle:{width:"100px",height:"100px"}})])])}],b=(a("34ef"),a("4917"),a("28a5"),a("a481"),a("bab4")),w=a.n(b),C={name:"imageCropper",props:{options:{default:{aspectRatio:1,preview:"#cropperRes",zoomOnWheel:!1,minCropBoxWidth:50}},uploadProgress:{default:0}},data:function(){return{cropper:null,imgHasLoad:!1,cropperHasInit:!1,uploading:!1,rawFile:null}},watch:{imgHasLoad:function(e){e||(this.uploading=!1)}},computed:{btnTips:function(){return this.uploading?{value:"正在上传，请稍等",disable:!0}:{value:"裁剪完成，立即上传",disable:!1}}},methods:{show:function(){this.imgHasLoad=!0},close:function(){this.imgHasLoad=!1},loadCropper:function(e){this.rawFile=e;var t=window.URL||window.webkitURL,a=t.createObjectURL(e),s=this.$refs.uploadPreview;this.cropper||(this.cropper=new w.a(s,this.options)),this.cropper.reset().replace(a)},finishCropImage:function(){this.uploading=!0;var e=this.cropper.getCroppedCanvas(),t=e.toDataURL(this.rawFile.type),a=this.dataURLtoBlob(t);a.uid=this.rawFile.uid,this.$emit("finishCropImage",a)},dataURLtoBlob:function(e){var t=e.split(","),a=t[0].match(/:(.*?);/)[1],s=atob(t[1]),r=s.length,i=new Uint8Array(r);while(r--)i[r]=s.charCodeAt(r);return new Blob([i],{type:a})}}},_=C,x=(a("6447"),Object(c["a"])(_,h,g,!1,null,"c97c1d6c",null)),y=x.exports,U={name:"rightUp",components:{imgCropper:y},data:function(){var e;return e={cropper:null,newFile:null,options:{aspectRatio:1,preview:"#cropperRes",zoomOnWheel:!1,minCropBoxWidth:50},token:{},uploadProgress:0,calcHeight:0,defaultImg:"",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}},Object(v["a"])(e,"options",[{value:"HTML",label:"HTML"},{value:"CSS",label:"CSS"},{value:"JavaScript",label:"JavaScript"}]),Object(v["a"])(e,"value",[]),e},computed:{imageUrl:function(){return this.defaultImg}},methods:{onFileChange:function(e,t){if("ready"===e.status){var a=["image/jpeg","image/png","image/webp"],s=a.indexOf(e.raw.type);e.raw.size,this.maxSize;if(-1===s)return this.$message("只限jpg、png、webp格式","error"),!1;this.$refs.cropperBox.show(),this.$refs.cropperBox.loadCropper(e.raw)}},finishCropImage:function(e){this.newFile=e,this.$refs.upload.submit()},handleAvatarSuccess:function(e,t){this.defaultImg=URL.createObjectURL(t.raw),this.$refs.cropperBox.close()},beforeAvatarUpload:function(e){var t=new window.File([this.newFile],e.name,{type:this.newFile.type});return t.uid=this.newFile.uid,Promise.resolve(t)},onUploadProgress:function(e,t,a){this.uploadProgress=parseInt(e.percent)-1}}},L=U,S=(a("b394"),Object(c["a"])(L,m,f,!1,null,null,null)),k=S.exports,$={name:"articlesWrite",components:{articleEdit:d,rightUp:k},computed:{}},R=$,F=(a("9a5b"),Object(c["a"])(R,s,r,!1,null,"0e70b401",null));t["default"]=F.exports},b394:function(e,t,a){"use strict";var s=a("0801"),r=a.n(s);r.a},ee34:function(e,t,a){"use strict";var s=a("0b3f"),r=a.n(s);r.a}}]);